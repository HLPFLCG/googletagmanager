<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GTM Template System - Google Tag Manager Setup</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Product+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', Arial, sans-serif;
            font-size: 14px;
            color: #202124;
            background: #fff;
            margin: 0;
            padding: 0;
            min-height: 100vh;
        }

        /* Google-style header */
        .google-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 6px 4px;
            position: relative;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .header-link {
            color: rgba(0,0,0,0.87);
            text-decoration: none;
            font-size: 13px;
            line-height: 24px;
            padding: 5px 8px;
            border-radius: 2px;
            transition: background-color 0.2s;
        }

        .header-link:hover {
            background-color: #f8f9fa;
        }

        .apps-button {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: transparent;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.2s;
        }

        .apps-button:hover {
            background-color: #f8f9fa;
        }

        .sign-in-button {
            background: #1a73e8;
            color: white;
            border: none;
            padding: 9px 23px;
            border-radius: 4px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            text-decoration: none;
            transition: background-color 0.2s, box-shadow 0.2s;
        }

        .sign-in-button:hover {
            background: #1765cc;
            box-shadow: 0 1px 2px rgba(66,133,244,0.3);
        }

        /* Main content - Google search style */
        .main-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 109px;
            padding: 20px;
            min-height: calc(100vh - 109px);
        }

        .google-logo {
            height: 92px;
            margin-bottom: 26px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo-text {
            font-family: 'Product Sans', 'Roboto', Arial, sans-serif;
            font-size: 72px;
            font-weight: 400;
            letter-spacing: -5px;
            color: #4285f4;
            display: flex;
        }

        .logo-text span:nth-child(1) { color: #4285f4; }
        .logo-text span:nth-child(2) { color: #ea4335; }
        .logo-text span:nth-child(3) { color: #fbbc05; }
        .logo-text span:nth-child(4) { color: #4285f4; }
        .logo-text span:nth-child(5) { color: #34a853; }
        .logo-text span:nth-child(6) { color: #ea4335; }

        .subtitle {
            font-size: 16px;
            color: #4285f4;
            margin-bottom: 30px;
            text-align: center;
            font-weight: 300;
        }

        /* GTM Setup Form - Google search box style */
        .gtm-form-container {
            width: 100%;
            max-width: 584px;
            margin: 0 auto 30px;
        }

        .search-box {
            width: 100%;
            height: 44px;
            border: 1px solid #dfe1e5;
            border-radius: 24px;
            padding: 0 45px 0 16px;
            font-size: 16px;
            outline: none;
            transition: box-shadow 0.2s;
            background: #fff;
        }

        .search-box:hover {
            box-shadow: 0 1px 6px rgba(32,33,36,.28);
            border-color: rgba(223,225,229,0);
        }

        .search-box:focus {
            box-shadow: 0 1px 6px rgba(32,33,36,.28);
            border-color: rgba(223,225,229,0);
        }

        .search-container {
            position: relative;
            margin-bottom: 30px;
        }

        .search-icon {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #9aa0a6;
            font-size: 20px;
        }

        /* Simple form fields for 88-year-old */
        .simple-form {
            background: #f8f9fa;
            border: 1px solid #dadce0;
            border-radius: 8px;
            padding: 24px;
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            font-size: 16px;
            color: #202124;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-input {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid #dadce0;
            border-radius: 4px;
            font-size: 16px;
            transition: border-color 0.2s, box-shadow 0.2s;
        }

        .form-input:focus {
            outline: none;
            border-color: #1a73e8;
            box-shadow: 0 1px 6px rgba(26,115,232,0.3);
        }

        /* Industry selection - large buttons */
        .industry-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 16px;
            margin-bottom: 30px;
        }

        .industry-button {
            padding: 16px 12px;
            border: 2px solid #dadce0;
            border-radius: 8px;
            background: #fff;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
            font-size: 16px;
            min-height: 80px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .industry-button:hover {
            border-color: #1a73e8;
            background: #f8f9fa;
        }

        .industry-button.selected {
            border-color: #1a73e8;
            background: #e8f0fe;
            box-shadow: 0 1px 3px rgba(26,115,232,0.3);
        }

        .industry-icon {
            font-size: 32px;
        }

        /* Google-style buttons */
        .button-container {
            display: flex;
            justify-content: center;
            gap: 18px;
            margin-top: 30px;
        }

        .google-button {
            background: #f8f9fa;
            border: 1px solid #f8f9fa;
            border-radius: 4px;
            color: #3c4043;
            font-size: 14px;
            padding: 10px 20px;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            transition: box-shadow 0.2s, background-color 0.2s;
        }

        .google-button:hover {
            box-shadow: 0 1px 1px rgba(0,0,0,0.1);
            background: #f8f9fa;
            border: 1px solid #dadce0;
        }

        .primary-button {
            background: #1a73e8;
            color: white;
            border: 1px solid transparent;
        }

        .primary-button:hover {
            background: #1765cc;
            border: 1px solid transparent;
            box-shadow: 0 1px 2px rgba(66,133,244,0.3);
        }

        /* Results section */
        .results-section {
            display: none;
            width: 100%;
            max-width: 652px;
            margin: 0 auto;
            padding: 20px;
        }

        .results-section.active {
            display: block;
        }

        .result-card {
            background: #fff;
            border: 1px solid #dfe1e5;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 16px;
            transition: box-shadow 0.2s;
        }

        .result-card:hover {
            box-shadow: 0 1px 6px rgba(32,33,36,.28);
        }

        .result-title {
            font-size: 20px;
            color: #1a0dab;
            text-decoration: none;
            display: block;
            margin-bottom: 4px;
        }

        .result-title:hover {
            text-decoration: underline;
        }

        .result-url {
            font-size: 14px;
            color: #006621;
            margin-bottom: 4px;
        }

        .result-description {
            font-size: 14px;
            color: #4d5156;
            line-height: 1.3;
        }

        /* Help section */
        .help-section {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #fff;
            border: 1px solid #dadce0;
            border-radius: 8px;
            padding: 16px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            max-width: 300px;
            z-index: 1000;
        }

        .help-title {
            font-size: 16px;
            font-weight: 500;
            margin-bottom: 8px;
            color: #202124;
        }

        .help-text {
            font-size: 14px;
            color: #5f6368;
            line-height: 1.4;
            margin-bottom: 12px;
        }

        .help-close {
            background: #1a73e8;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 12px;
            cursor: pointer;
        }

        /* Footer */
        .google-footer {
            background: #f2f2f2;
            border-top: 1px solid #e4e4e4;
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        .footer-left {
            display: flex;
            gap: 30px;
            align-items: center;
        }

        .footer-right {
            display: flex;
            gap: 30px;
            align-items: center;
        }

        .footer-link {
            color: #70757a;
            text-decoration: none;
            font-size: 14px;
            padding: 5px 8px;
        }

        .footer-link:hover {
            text-decoration: underline;
        }

        /* Mobile responsive */
        @media (max-width: 600px) {
            .main-container {
                margin-top: 50px;
                padding: 10px;
            }

            .google-logo {
                height: 60px;
                margin-bottom: 20px;
            }

            .logo-text {
                font-size: 48px;
            }

            .subtitle {
                font-size: 14px;
            }

            .button-container {
                flex-direction: column;
                gap: 10px;
            }

            .industry-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }

            .industry-button {
                min-height: 60px;
                font-size: 14px;
                padding: 12px 8px;
            }

            .google-footer {
                flex-direction: column;
                gap: 15px;
                padding: 15px;
            }

            .footer-left,
            .footer-right {
                flex-wrap: wrap;
                gap: 15px;
            }
        }

        /* Loading animation */
        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }

        .loading.active {
            display: block;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #1a73e8;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
<script src="https://sites.super.myninja.ai/_assets/ninja-daytona-script.js"></script>
</head>
<body>
    <!-- Google-style header -->
    <header class="google-header">
        <div class="header-left">
            <a href="https://about.google/" class="header-link">About</a>
            <a href="https://store.google.com/" class="header-link">Store</a>
        </div>
        <div class="header-right">
            <a href="https://gmail.com/" class="header-link">Gmail</a>
            <a href="https://images.google.com/" class="header-link">Images</a>
            <button class="apps-button" onclick="openGoogleApps()" title="Google apps">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M6,8c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM12,20c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM6,20c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM6,14c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM12,14c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM16,6c0,1.1 0.9,2 2,2s2,-0.9 2,-2 -0.9,-2 -2,-2 -2,0.9 -2,2zM12,8c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM18,14c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM18,20c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2z" fill="#5f6368"/>
                </svg>
            </button>
            <a href="https://accounts.google.com/" class="sign-in-button">Sign in</a>
        </div>
    </header>

    <!-- Main content -->
    <main class="main-container">
        <!-- Google-style logo -->
        <div class="google-logo">
            <div class="logo-text">
                <span>G</span><span>T</span><span>M</span><span> </span><span>S</span><span>etup</span>
            </div>
        </div>
        
        <p class="subtitle">Easy Google Tag Manager Setup for Any Website</p>

        <!-- Simple setup form for 88-year-old -->
        <div class="gtm-form-container">
            <div class="simple-form">
                <div class="form-group">
                    <label class="form-label">üìù Your Website Name</label>
                    <input type="text" class="form-input" id="website-name" placeholder="My Beautiful Website">
                </div>

                <div class="form-group">
                    <label class="form-label">üåê Website Address</label>
                    <input type="url" class="form-input" id="website-url" placeholder="https://mywebsite.com">
                </div>

                <div class="form-group">
                    <label class="form-label">üè∑Ô∏è Google Tag Manager ID</label>
                    <input type="text" class="form-input" id="gtm-id" placeholder="GTM-XXXXXXX">
                </div>

                <div class="form-group">
                    <label class="form-label">üìä Google Analytics ID</label>
                    <input type="text" class="form-input" id="ga4-id" placeholder="G-XXXXXXXXXX">
                </div>
            </div>

            <!-- Industry selection with large buttons -->
            <div class="form-group">
                <label class="form-label">üéØ What Kind of Website Do You Have?</label>
                <div class="industry-grid">
                    <div class="industry-button" onclick="selectIndustry(this, 'portfolio')">
                        <div class="industry-icon">üé®</div>
                        <div>Art/Photography</div>
                    </div>
                    <div class="industry-button" onclick="selectIndustry(this, 'ecommerce')">
                        <div class="industry-icon">üõí</div>
                        <div>Online Store</div>
                    </div>
                    <div class="industry-button" onclick="selectIndustry(this, 'business')">
                        <div class="industry-icon">üè¢</div>
                        <div>Business</div>
                    </div>
                    <div class="industry-button" onclick="selectIndustry(this, 'blog')">
                        <div class="industry-icon">üìù</div>
                        <div>Blog/News</div>
                    </div>
                    <div class="industry-button" onclick="selectIndustry(this, 'restaurant')">
                        <div class="industry-icon">üçΩÔ∏è</div>
                        <div>Restaurant</div>
                    </div>
                    <div class="industry-button" onclick="selectIndustry(this, 'healthcare')">
                        <div class="industry-icon">üè•</div>
                        <div>Healthcare</div>
                    </div>
                    <div class="industry-button" onclick="selectIndustry(this, 'education')">
                        <div class="industry-icon">üéì</div>
                        <div>School/Education</div>
                    </div>
                    <div class="industry-button" onclick="selectIndustry(this, 'realestate')">
                        <div class="industry-icon">üè†</div>
                        <div>Real Estate</div>
                    </div>
                    <div class="industry-button" onclick="selectIndustry(this, 'nonprofit')">
                        <div class="industry-icon">‚ù§Ô∏è</div>
                        <div>Charity/Nonprofit</div>
                    </div>
                    <div class="industry-button" onclick="selectIndustry(this, 'travel')">
                        <div class="industry-icon">‚úàÔ∏è</div>
                        <div>Travel/Tourism</div>
                    </div>
                    <div class="industry-button" onclick="selectIndustry(this, 'professional')">
                        <div class="industry-icon">üëî</div>
                        <div>Professional Services</div>
                    </div>
                    <div class="industry-button" onclick="selectIndustry(this, 'other')">
                        <div class="industry-icon">üìã</div>
                        <div>Other</div>
                    </div>
                </div>
            </div>

            <!-- Google-style buttons -->
            <div class="button-container">
                <button class="google-button" onclick="startOver()">üîÑ Start Over</button>
                <button class="google-button primary-button" onclick="generateGTMTemplates()">üöÄ Create My GTM Setup</button>
            </div>
        </div>

        <!-- Loading indicator -->
        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p>Creating your GTM setup... Please wait a moment.</p>
        </div>

        <!-- Results section -->
        <section class="results-section" id="results">
            <h2 style="font-size: 24px; margin-bottom: 20px;">‚úÖ Your GTM Setup is Ready!</h2>
            <p style="font-size: 16px; margin-bottom: 20px; color: #5f6368;">
                Here are your files. Click on each one to download them to your computer.
            </p>
            
            <div class="result-card">
                <a href="#" class="result-title" onclick="downloadFile('gtm-config.json'); return false;">
                    üìÑ GTM Configuration File
                </a>
                <div class="result-url">gtm-config.json</div>
                <div class="result-description">
                    This file contains all your GTM settings. Upload it to Google Tag Manager.
                </div>
            </div>

            <div class="result-card">
                <a href="#" class="result-title" onclick="downloadFile('analytics.js'); return false;">
                    üìä Analytics Tracking Code
                </a>
                <div class="result-url">analytics.js</div>
                <div class="result-description">
                    Add this code to your website to track visitors and actions.
                </div>
            </div>

            <div class="result-card">
                <a href="#" class="result-title" onclick="downloadFile('installation.html'); return false;">
                    üìã Easy Installation Guide
                </a>
                <div class="result-url">installation.html</div>
                <div class="result-description">
                    Step-by-step instructions written simply to help you install everything.
                </div>
            </div>

            <div class="result-card">
                <a href="#" class="result-title" onclick="downloadAllFiles(); return false;">
                    üì¶ Download All Files at Once
                </a>
                <div class="result-url">gtm-setup-complete.zip</div>
                <div class="result-description">
                    Get all your files in one convenient package.
                </div>
            </div>
        </section>
    </main>

    <!-- Help bubble for 88-year-old users -->
    <div class="help-section" id="helpSection" style="display: none;">
        <div class="help-title">ü§î Need Help?</div>
        <div class="help-text">
            Don't worry! This is easy. Just fill in your website information above, click "Create My GTM Setup", and download your files. I'll guide you through each step!
        </div>
        <button class="help-close" onclick="closeHelp()">Got it!</button>
    </div>

    <!-- Google-style footer -->
    <footer class="google-footer">
        <div class="footer-left">
            <a href="https://www.google.com/" class="footer-link">Google</a>
            <a href="https://ads.google.com/" class="footer-link">Advertising</a>
            <a href="https://business.google.com/" class="footer-link">Business</a>
            <a href="https://www.google.com/search/howsearchworks/" class="footer-link">How Search works</a>
        </div>
        <div class="footer-right">
            <a href="https://policies.google.com/privacy" class="footer-link">Privacy</a>
            <a href="https://policies.google.com/terms" class="footer-link">Terms</a>
            <a href="#" class="footer-link" onclick="showHelp()">Help</a>
        </div>
    </footer>

    <script>
        let selectedIndustry = '';
        let generatedFiles = {};

        // Show help for 88-year-old users
        function showHelp() {
            document.getElementById('helpSection').style.display = 'block';
        }

        function closeHelp() {
            document.getElementById('helpSection').style.display = 'none';
        }

        // Open Google apps menu
        function openGoogleApps() {
            window.open('https://about.google/products/', '_blank');
        }

        // Industry selection
        function selectIndustry(element, industry) {
            // Remove previous selection
            document.querySelectorAll('.industry-button').forEach(btn => {
                btn.classList.remove('selected');
            });
            
            // Add selection to clicked button
            element.classList.add('selected');
            selectedIndustry = industry;
        }

        // Start over
        function startOver() {
            // Clear form
            document.getElementById('website-name').value = '';
            document.getElementById('website-url').value = '';
            document.getElementById('gtm-id').value = '';
            document.getElementById('ga4-id').value = '';
            
            // Clear industry selection
            document.querySelectorAll('.industry-button').forEach(btn => {
                btn.classList.remove('selected');
            });
            selectedIndustry = '';
            
            // Hide results
            document.getElementById('results').classList.remove('active');
            
            // Show help
            showHelp();
        }

        // Generate GTM Templates
        function generateGTMTemplates() {
            const websiteName = document.getElementById('website-name').value;
            const websiteUrl = document.getElementById('website-url').value;
            const gtmId = document.getElementById('gtm-id').value;
            const ga4Id = document.getElementById('ga4-id').value;

            // Simple validation for 88-year-old
            if (!websiteName || !websiteUrl || !gtmId || !ga4Id) {
                alert('ü§î Please fill in all the boxes above. I need to know your website name, address, and your Google IDs to create your setup.');
                return;
            }

            if (!selectedIndustry) {
                alert('üéØ Please click on one of the website type buttons above. This helps me create the right setup for your type of website.');
                return;
            }

            // Show loading
            document.getElementById('loading').classList.add('active');
            document.getElementById('results').classList.remove('active');

            // Generate files
            setTimeout(() => {
                generatedFiles['gtm-config.json'] = generateGTMConfig(websiteName, websiteUrl, gtmId, ga4Id, selectedIndustry);
                generatedFiles['analytics.js'] = generateAnalyticsScript(gtmId, ga4Id, selectedIndustry);
                generatedFiles['installation.html'] = generateInstallationGuide(websiteName, gtmId, ga4Id, selectedIndustry);

                // Hide loading and show results
                document.getElementById('loading').classList.remove('active');
                document.getElementById('results').classList.add('active');

                // Scroll to results
                document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
            }, 2000);
        }

        function generateGTMConfig(name, url, gtmId, ga4Id, type) {
            // Simple GTM config
            const config = {
                "exportFormat": "GTM",
                "exportTime": new Date().toISOString(),
                "containerVersion": {
                    "path": "accounts/containers/versions",
                    "accountId": "",
                    "containerId": gtmId,
                    "containerVersionId": "1",
                    "container": {
                        "path": "accounts/containers",
                        "accountId": "",
                        "containerId": gtmId,
                        "name": name,
                        "publicId": gtmId,
                        "usageContext": ["WEB"],
                        "fingerprint": "",
                        "tagManagerUrl": "https://tagmanager.google.com/#/container/accounts/containers/workspaces"
                    },
                    "tag": [],
                    "trigger": [],
                    "variable": []
                }
            };

            // Add GA4 Configuration Tag
            config.containerVersion.tag.push({
                "path": "accounts/containers/versions/tags",
                "accountId": "",
                "containerId": gtmId,
                "tagId": "1",
                "name": "GA4 Configuration",
                "type": "gaw",
                "parameter": [{
                    "type": "template",
                    "key": "measurementId",
                    "value": ga4Id
                }],
                "fingerprint": ""
            });

            return JSON.stringify(config, null, 2);
        }

        function generateAnalyticsScript(gtmId, ga4Id, type) {
            return `// Google Tag Manager Setup for ${type}
(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','${gtmId}');

// This code tracks your website visitors
// Copy and paste this into your website
// Place it before the closing </body> tag
console.log('GTM Setup Complete for ${type} website!');`;
        }

        function generateInstallationGuide(name, gtmId, ga4Id, type) {
            return `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Easy GTM Installation Guide</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; line-height: 1.6; }
        .step { margin: 20px 0; padding: 20px; background: #f5f5f5; border-radius: 8px; }
        .step h2 { color: #1a73e8; }
        .code { background: #e8f0fe; padding: 10px; border-radius: 4px; font-family: monospace; }
    </style>
<script src="https://sites.super.myninja.ai/_assets/ninja-daytona-script.js"></script>
</head>
<body>
    <h1>üéâ Easy GTM Installation for ${name}</h1>
    
    <div class="step">
        <h2>Step 1: Upload Your GTM File</h2>
        <ol>
            <li>Go to <a href="https://tagmanager.google.com/">Google Tag Manager</a></li>
            <li>Sign in to your Google account</li>
            <li>Select your container (${gtmId})</li>
            <li>Click "Admin" (the gear icon ‚öôÔ∏è)</li>
            <li>Click "Import Container"</li>
            <li>Choose the gtm-config.json file you downloaded</li>
            <li>Click "Import" and then "Confirm"</li>
        </ol>
    </div>

    <div class="step">
        <h2>Step 2: Add Code to Your Website</h2>
        <p>Copy this code and paste it into your website's HTML code, right before the closing &lt;/body&gt; tag:</p>
        <div class="code">
&lt;!-- Google Tag Manager --&gt;
&lt;script&gt;(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','${gtmId}');&lt;/script&gt;
&lt;!-- End Google Tag Manager --&gt;
        </div>
    </div>

    <div class="step">
        <h2>Step 3: Test Your Setup</h2>
        <ol>
            <li>Visit your website</li>
            <li>Right-click and select "Inspect" or "View Page Source"</li>
            <li>Look for the GTM code you just added</li>
            <li>Visit <a href="https://tagmanager.google.com/">Google Tag Manager</a></li>
            <li>Click "Preview" to see if it's working</li>
        </ol>
    </div>

    <div class="step">
        <h2>Step 4: You're Done! üéä</h2>
        <p>Congratulations! Your website now tracks visitors with Google Tag Manager and Google Analytics.</p>
        <p>You can check your analytics at <a href="https://analytics.google.com/">Google Analytics</a>.</p>
    </div>

    <h2>ü§î Need Help?</h2>
    <p>If you get stuck, don't worry! You can:</p>
    <ul>
        <li>Ask a friend or family member who knows about websites</li>
        <li>Contact Google Support</li>
        <li>Watch YouTube tutorials about "Google Tag Manager setup"</li>
    </ul>
</body>
</html>`;
        }

        function downloadFile(filename) {
            const content = generatedFiles[filename];
            if (!content) {
                alert('‚ùå File not ready yet. Please click "Create My GTM Setup" first.');
                return;
            }

            const blob = new Blob([content], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
        }

        function downloadAllFiles() {
            if (Object.keys(generatedFiles).length === 0) {
                alert('‚ùå Files not ready yet. Please click "Create My GTM Setup" first.');
                return;
            }

            const zip = new JSZip();
            
            Object.keys(generatedFiles).forEach(filename => {
                zip.file(filename, generatedFiles[filename]);
            });

            zip.generateAsync({ type: "blob" }).then(function(content) {
                const url = window.URL.createObjectURL(content);
                const a = document.createElement('a');
                a.href = url;
                a.download = "gtm-setup-complete.zip";
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                window.URL.revokeObjectURL(url);
            });
        }

        // Show help on page load for first-time users
        window.addEventListener('load', function() {
            setTimeout(() => {
                if (localStorage.getItem('gtmHelpShown') !== 'true') {
                    showHelp();
                    localStorage.setItem('gtmHelpShown', 'true');
                }
            }, 2000);
        });
    </script>
</body>
</html>
